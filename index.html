<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Торговые войны v4.0 - Расширенный симулятор международной торговли</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Стартовый экран -->
    <div id="startScreen" class="screen active">
        <div class="container">
            <header class="game-header">
                <h1 class="game-title">
                    <i class="fas fa-globe-americas"></i>
                    Торговые войны v4.0
                </h1>
                <p class="game-subtitle">Расширенный симулятор международной торговли с продвинутой экономической моделью</p>
                <div class="version-highlights">
                    <span class="highlight-badge"><i class="fas fa-star"></i> 100 уникальных сценариев</span>
                    <span class="highlight-badge"><i class="fas fa-chart-line"></i> 5 экономических показателей</span>
                    <span class="highlight-badge"><i class="fas fa-hourglass-half"></i> 15 ходов (5 лет)</span>
                </div>
            </header>

            <div class="game-features">
                <h2><i class="fas fa-rocket"></i> Новые возможности в v4.0:</h2>
                <div class="features-grid">
                    <div class="feature-card">
                        <i class="fas fa-brain"></i>
                        <h3>Умная система сценариев</h3>
                        <p>67% общих и 33% специфичных для страны сценариев с избеганием повторов</p>
                    </div>
                    <div class="feature-card">
                        <i class="fas fa-balance-scale"></i>
                        <h3>Продвинутая система доверия</h3>
                        <p>Учёт безработицы, инфляции и международных решений</p>
                    </div>
                    <div class="feature-card">
                        <i class="fas fa-network-wired"></i>
                        <h3>Реалистичные взаимосвязи</h3>
                        <p>Каждое решение влияет на все 5 показателей экономики</p>
                    </div>
                    <div class="feature-card">
                        <i class="fas fa-history"></i>
                        <h3>Исторические справки</h3>
                        <p>Реальные примеры торговых решений и их последствий</p>
                    </div>
                </div>
            </div>

            <div class="indicators-info">
                <h2><i class="fas fa-chart-bar"></i> Экономические показатели:</h2>
                <div class="indicators-grid">
                    <div class="indicator-card gdp-card">
                        <i class="fas fa-chart-line"></i>
                        <h3>ВВП индекс</h3>
                        <p>Базовое значение: <strong>100.0</strong></p>
                        <span class="indicator-description">Общий размер экономики</span>
                    </div>
                    <div class="indicator-card export-card">
                        <i class="fas fa-shipping-fast"></i>
                        <h3>Экспорт индекс</h3>
                        <p>Базовое значение: <strong>100.0</strong></p>
                        <span class="indicator-description">Объём экспорта товаров и услуг</span>
                    </div>
                    <div class="indicator-card import-card">
                        <i class="fas fa-truck"></i>
                        <h3>Импорт индекс</h3>
                        <p>Базовое значение: <strong>100.0</strong></p>
                        <span class="indicator-description">Объём импорта товаров и услуг</span>
                    </div>
                    <div class="indicator-card inflation-card">
                        <i class="fas fa-percentage"></i>
                        <h3>Инфляция (CPI)</h3>
                        <p>Базовое значение: <strong>2.0%</strong></p>
                        <span class="indicator-description">Рост потребительских цен</span>
                    </div>
                    <div class="indicator-card unemployment-card">
                        <i class="fas fa-user-times"></i>
                        <h3>Безработица</h3>
                        <p>Базовое значение: <strong>5.0%</strong></p>
                        <span class="indicator-description">Уровень безработицы</span>
                    </div>
                </div>
            </div>

            <div class="game-setup">
                <div class="section">
                    <h2><i class="fas fa-flag"></i> Выберите страну:</h2>
                    <div class="countries-grid" id="countriesGrid">
                        <!-- Страны будут добавлены через JavaScript -->
                    </div>
                </div>

                <div class="section">
                    <h2><i class="fas fa-cog"></i> Режим игры:</h2>
                    <div class="game-modes">
                        <label class="radio-card">
                            <input type="radio" name="gameMode" value="normal" checked>
                            <div class="radio-content">
                                <i class="fas fa-eye"></i>
                                <h3>Обычный</h3>
                                <p>Видны эффекты решений и исторические справки</p>
                            </div>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="gameMode" value="hard">
                            <div class="radio-content">
                                <i class="fas fa-fire"></i>
                                <h3>Сложный</h3>
                                <p>Эффекты решений усилены в 1.5 раза</p>
                            </div>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="gameMode" value="blind">
                            <div class="radio-content">
                                <i class="fas fa-eye-slash"></i>
                                <h3>Слепой</h3>
                                <p>Эффекты решений скрыты до применения</p>
                            </div>
                        </label>
                    </div>
                </div>

                <button class="btn btn--primary btn--lg btn--full-width start-game-btn" id="startGameBtn" disabled>
                    <i class="fas fa-play"></i>
                    <span>Начать игру</span>
                    <small>15 ходов • 5 лет • 100 сценариев</small>
                </button>
            </div>
        </div>
    </div>

    <!-- Игровой экран -->
    <div id="gameScreen" class="screen">
        <div class="container">
            <header class="game-progress">
                <div class="progress-info">
                    <h1 id="selectedCountryName" class="country-header"></h1>
                    <div class="progress-details">
                        <p>Ход <span id="currentTurn">1</span> из 15 • <span id="currentPeriod">Q1 Год 1</span></p>
                        <div class="scenario-counter">
                            <i class="fas fa-list-ol"></i>
                            <span id="scenarioCounter">Сценарий будет загружен...</span>
                        </div>
                    </div>
                </div>
                <div class="progress-container">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <div class="progress-labels">
                        <span>Старт</span>
                        <span>Год 2</span>
                        <span>Год 3</span>
                        <span>Год 4</span>
                        <span>Финиш</span>
                    </div>
                </div>
            </header>

            <div class="game-layout">
                <div class="game-main">
                    <!-- Экономические показатели -->
                    <div class="indicators-panel">
                        <div class="indicator gdp-indicator" id="gdpIndicator">
                            <i class="fas fa-chart-line"></i>
                            <div class="indicator-content">
                                <span class="label">ВВП индекс</span>
                                <span class="value" id="gdpValue">100.0</span>
                            </div>
                        </div>
                        <div class="indicator export-indicator" id="expIndicator">
                            <i class="fas fa-shipping-fast"></i>
                            <div class="indicator-content">
                                <span class="label">Экспорт</span>
                                <span class="value" id="expValue">100.0</span>
                            </div>
                        </div>
                        <div class="indicator import-indicator" id="impIndicator">
                            <i class="fas fa-truck"></i>
                            <div class="indicator-content">
                                <span class="label">Импорт</span>
                                <span class="value" id="impValue">100.0</span>
                            </div>
                        </div>
                        <div class="indicator inflation-indicator" id="cpiIndicator">
                            <i class="fas fa-percentage"></i>
                            <div class="indicator-content">
                                <span class="label">Инфляция</span>
                                <span class="value" id="cpiValue">2.0%</span>
                            </div>
                        </div>
                        <div class="indicator unemployment-indicator" id="unemploymentIndicator">
                            <i class="fas fa-user-times"></i>
                            <div class="indicator-content">
                                <span class="label">Безработица</span>
                                <span class="value" id="unemploymentValue">5.0%</span>
                            </div>
                        </div>
                        <div class="indicator trust-indicator" id="trustIndicator">
                            <i class="fas fa-handshake"></i>
                            <div class="indicator-content">
                                <span class="label">Доверие</span>
                                <span class="value" id="trustValue">50</span>
                            </div>
                        </div>
                    </div>

                    <!-- Сценарий -->
                    <div class="scenario-card">
                        <div class="scenario-header">
                            <h2 id="scenarioTitle">
                                <i class="fas fa-scroll"></i>
                                Сценарий загружается...
                            </h2>
                            <div class="scenario-type" id="scenarioType">
                                <!-- Будет заполнено через JS -->
                            </div>
                        </div>
                        <div class="scenario-content">
                            <p id="scenarioText">Пожалуйста, подождите загрузку сценария...</p>
                        </div>
                    </div>

                    <!-- Варианты действий -->
                    <div class="choices-section">
                        <h3><i class="fas fa-crossroads"></i> Варианты действий:</h3>
                        <div class="choices-container" id="choicesContainer">
                            <!-- Выборы будут добавлены через JavaScript -->
                        </div>
                    </div>

                    <!-- Эффекты и история -->
                    <div class="effects-panel" id="effectsPanel" style="display: none;">
                        <div class="effects-preview">
                            <h3><i class="fas fa-chart-bar"></i> Предварительные эффекты:</h3>
                            <div class="effects-grid" id="effectsGrid">
                                <!-- Эффекты будут добавлены через JavaScript -->
                            </div>
                        </div>
                        <div class="historical-context">
                            <h3><i class="fas fa-history"></i> Историческая справка:</h3>
                            <div class="historical-content">
                                <p id="historicalText">Выберите действие для получения исторической информации.</p>
                            </div>
                        </div>
                        <button class="btn btn--primary btn--lg btn--full-width next-turn-btn" id="nextTurnBtn" disabled>
                            <i class="fas fa-arrow-right"></i>
                            <span>Следующий ход</span>
                        </button>
                    </div>
                </div>

                <!-- Графики -->
                <div class="charts-panel">
                    <div class="charts-header">
                        <h3><i class="fas fa-chart-area"></i> Динамика показателей</h3>
                        <div class="charts-legend">
                            <span class="legend-item gdp-legend">ВВП</span>
                            <span class="legend-item export-legend">Экспорт</span>
                            <span class="legend-item import-legend">Импорт</span>
                            <span class="legend-item inflation-legend">Инфляция</span>
                            <span class="legend-item unemployment-legend">Безработица</span>
                        </div>
                    </div>
                    <div class="charts-grid">
                        <div class="chart-container" style="position: relative; height: 180px;">
                            <canvas id="gdpChart"></canvas>
                        </div>
                        <div class="chart-container" style="position: relative; height: 180px;">
                            <canvas id="expChart"></canvas>
                        </div>
                        <div class="chart-container" style="position: relative; height: 180px;">
                            <canvas id="impChart"></canvas>
                        </div>
                        <div class="chart-container" style="position: relative; height: 180px;">
                            <canvas id="cpiChart"></canvas>
                        </div>
                        <div class="chart-container" style="position: relative; height: 180px;">
                            <canvas id="unemploymentChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Экран результатов -->
    <div id="resultsScreen" class="screen">
        <div class="container">
            <header class="results-header">
                <h1><i class="fas fa-trophy"></i> Результаты игры</h1>
                <p id="resultsSubtitle">Анализ вашей экономической стратегии за 5 лет</p>
                <div class="results-summary">
                    <div class="summary-stat">
                        <i class="fas fa-calendar-alt"></i>
                        <span>15 ходов завершено</span>
                    </div>
                    <div class="summary-stat">
                        <i class="fas fa-chart-line"></i>
                        <span>5 показателей отслежено</span>
                    </div>
                    <div class="summary-stat">
                        <i class="fas fa-globe"></i>
                        <span>Международная торговля симулирована</span>
                    </div>
                </div>
            </header>

            <div class="results-layout">
                <div class="results-main">
                    <!-- Финальные показатели -->
                    <div class="final-indicators">
                        <h2><i class="fas fa-chart-pie"></i> Финальные экономические показатели:</h2>
                        <div class="indicators-grid">
                            <div class="result-card gdp-result">
                                <i class="fas fa-chart-line"></i>
                                <h3>ВВП индекс</h3>
                                <div class="result-values">
                                    <span class="final-value" id="finalGdp">100.0</span>
                                    <span class="change-value" id="gdpChange">0.0</span>
                                </div>
                                <div class="result-description">Общий размер экономики</div>
                            </div>
                            <div class="result-card export-result">
                                <i class="fas fa-shipping-fast"></i>
                                <h3>Экспорт индекс</h3>
                                <div class="result-values">
                                    <span class="final-value" id="finalExp">100.0</span>
                                    <span class="change-value" id="expChange">0.0</span>
                                </div>
                                <div class="result-description">Экспорт товаров и услуг</div>
                            </div>
                            <div class="result-card import-result">
                                <i class="fas fa-truck"></i>
                                <h3>Импорт индекс</h3>
                                <div class="result-values">
                                    <span class="final-value" id="finalImp">100.0</span>
                                    <span class="change-value" id="impChange">0.0</span>
                                </div>
                                <div class="result-description">Импорт товаров и услуг</div>
                            </div>
                            <div class="result-card inflation-result">
                                <i class="fas fa-percentage"></i>
                                <h3>Инфляция</h3>
                                <div class="result-values">
                                    <span class="final-value" id="finalCpi">2.0%</span>
                                    <span class="change-value" id="cpiChange">0.0%</span>
                                </div>
                                <div class="result-description">Рост потребительских цен</div>
                            </div>
                            <div class="result-card unemployment-result">
                                <i class="fas fa-user-times"></i>
                                <h3>Безработица</h3>
                                <div class="result-values">
                                    <span class="final-value" id="finalUnemployment">5.0%</span>
                                    <span class="change-value" id="unemploymentChange">0.0%</span>
                                </div>
                                <div class="result-description">Уровень безработицы</div>
                            </div>
                        </div>
                    </div>

                    <!-- Доверие и оценка -->
                    <div class="trust-analysis">
                        <h2><i class="fas fa-handshake"></i> Анализ доверия и стратегии:</h2>
                        <div class="trust-card">
                            <div class="trust-score">
                                <i class="fas fa-medal"></i>
                                <div class="trust-info">
                                    <span class="trust-label">Итоговое доверие</span>
                                    <span class="trust-value" id="finalTrust">50</span>
                                    <div class="trust-bar">
                                        <div class="trust-fill" id="trustFill"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="trust-explanation" id="trustExplanation">
                                Анализ принятых решений будет здесь...
                            </div>
                        </div>
                    </div>

                    <!-- Общая оценка -->
                    <div class="final-score">
                        <h2><i class="fas fa-star"></i> Общая оценка стратегии:</h2>
                        <div class="score-card">
                            <div class="score-circle">
                                <div class="score-value" id="finalScore">0</div>
                                <div class="score-label">баллов</div>
                            </div>
                            <div class="score-description" id="scoreDescription">Расчет оценки...</div>
                        </div>
                    </div>

                    <div class="results-actions">
                        <button class="btn btn--primary" id="newGameBtn">
                            <i class="fas fa-redo"></i>
                            Новая игра
                        </button>
                        <button class="btn btn--outline" id="exportBtn">
                            <i class="fas fa-download"></i>
                            Экспорт результатов
                        </button>
                    </div>
                </div>

                <!-- Итоговый график -->
                <div class="final-chart-panel">
                    <h2><i class="fas fa-chart-area"></i> Динамика за 5 лет:</h2>
                    <div class="chart-container" style="position: relative; height: 400px;">
                        <canvas id="finalChart"></canvas>
                    </div>
                    <div class="chart-insights">
                        <h3>Ключевые тренды:</h3>
                        <div id="chartInsights">
                            <p>Анализ трендов будет доступен после завершения игры.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>