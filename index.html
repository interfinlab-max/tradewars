<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Торговые войны - Экономическая стратегия</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
    <!-- Пасхалка дракон -->
    <div id="dragonEasterEgg" class="dragon-easter-egg hidden">
        <div class="dragon-ascii">______________
|            /
| R6TR0     / 
/        /\  /\ 
|___________/ 
(   . .)  <===(
 \ U /        |
  ___\___/______|
|               |
|   LEGENDARY   |
|   DEVELOPER   |
|_______________|</div>
        <div class="dragon-signature">R6TR0 DRAGON</div>
        <div class="dragon-title">LEGENDARY DEVELOPER</div>
    </div>

    <!-- Стартовый экран -->
    <div id="startScreen" class="screen active">
        <div class="container">
            <div class="start-layout">
                <!-- Левая колонка -->
                <div class="start-left-column">
                    <!-- Заголовок с логотипом -->
                    <div class="header-top">
                        <div class="logo-section" id="logoSection">
                            <div class="company-logo">
                                <img src="https://fa.ru/org/div/rectorat/managementstyle/PublishingImages/Лого%20ФУ%20без%20подписи.png" alt="Финансовый университет" class="logo-image">
                            </div>
                        </div>
                        <div class="game-header-right">
                            <div class="game-title-section">
                                <h1 class="game-title">
                                    <i class="fas fa-globe"></i>
                                    Торговые войны
                                </h1>
                                <p class="game-subtitle">Экономическая стратегия</p>
                            </div>
                            <button id="themeToggle" class="theme-toggle" title="Переключить тему">
                                <i class="fas fa-circle-half-stroke"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Ты - экономический советник -->
                    <div class="advisor-notice">
                        <div class="advisor-badge">
                            <i class="fas fa-user-tie"></i>
                            <span>Ты - экономический советник</span>
                        </div>
                    </div>

                    <!-- Информация об игре -->
                    <div class="game-info-grid">
                        <div class="info-card">
                            <div class="info-icon">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="info-content">
                                <h3>Время игры</h3>
                                <p>≈ 25 минут</p>
                            </div>
                        </div>
                        
                        <div class="info-card">
                            <div class="info-icon">
                                <i class="fas fa-list-ol"></i>
                            </div>
                            <div class="info-content">
                                <h3>Количество ходов</h3>
                                <p>15 ходов</p>
                            </div>
                        </div>
                    </div>

                    <!-- Правила игры -->
                    <div class="rules-section">
                        <h2><i class="fas fa-book-open"></i> Правила игры</h2>
                        <div class="rules-steps">
                            <div class="rule-step">
                                <div class="step-number">1</div>
                                <div class="step-content">
                                    <h4>Выберите страну</h4>
                                    <p>Каждая страна имеет уникальные характеристики и сложность</p>
                                </div>
                            </div>
                            
                            <div class="rule-step">
                                <div class="step-number">2</div>
                                <div class="step-content">
                                    <h4>Выберите режим игры</h4>
                                    <p>Нормальный (статичные сценарии), Сложный или Слепой (случайные сценарии)</p>
                                </div>
                            </div>
                            
                            <div class="rule-step">
                                <div class="step-number">3</div>
                                <div class="step-content">
                                    <h4>Принимайте решения</h4>
                                    <p>На каждом ходу выбирайте оптимальный вариант экономической политики</p>
                                </div>
                            </div>
                            
                            <div class="rule-step">
                                <div class="step-number">4</div>
                                <div class="step-content">
                                    <h4>Учитывайте случайные события</h4>
                                    <p>Другие страны могут помочь или помешать в зависимости от ваших решений</p>
                                </div>
                            </div>
                            
                            <div class="rule-step">
                                <div class="step-number">5</div>
                                <div class="step-content">
                                    <h4>Анализируйте результаты</h4>
                                    <p>Получите детальный анализ экономической стратегии и рекомендации</p>
                                </div>
                            </div>
                            
                            <div class="rule-step">
                                <div class="step-number">6</div>
                                <div class="step-content">
                                    <h4>Напишите ФИО и группу, скачайте результаты</h4>
                                    <p>Экспортируйте отчет в PDF для дальнейшего использования</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="version-info">
                        <span class="game-version">v2.1.0</span>
                    </div>
                </div>

                <!-- Правая колонка -->
                <div class="start-right-column">
                    <!-- Информация о показателях -->
                    <div class="indicators-info">
                        <h2><i class="fas fa-chart-bar"></i> Экономические показатели</h2>
                        <div class="indicators-grid">
                            <div class="indicator-card">
                                <i class="fas fa-chart-line"></i>
                                <h3>ВВП индекс</h3>
                                <p class="base-value">Базовое значение: 100.0</p>
                            </div>
                            <div class="indicator-card">
                                <i class="fas fa-arrow-up-right-from-square"></i>
                                <h3>Экспорт индекс</h3>
                                <p class="base-value">Базовое значение: 100.0</p>
                            </div>
                            <div class="indicator-card">
                                <i class="fas fa-arrow-down-right-to-square"></i>
                                <h3>Импорт индекс</h3>
                                <p class="base-value">Базовое значение: 100.0</p>
                            </div>
                            <div class="indicator-card">
                                <i class="fas fa-percentage"></i>
                                <h3>Инфляция</h3>
                                <p class="base-value">Базовое значение: 2.0%</p>
                            </div>
                            <div class="indicator-card">
                                <i class="fas fa-users"></i>
                                <h3>Безработица</h3>
                                <p class="base-value">Базовое значение: 5.0%</p>
                            </div>
                        </div>
                    </div>

                    <!-- Настройка игры -->
                    <div class="game-setup">
                        <div class="section">
                            <h2><i class="fas fa-flag"></i> Выберите страну</h2>
                            <div class="countries-grid" id="countriesGrid">
                                <!-- Страны генерируются JS -->
                            </div>
                        </div>

                        <div class="section">
                            <h2><i class="fas fa-cog"></i> Режим игры</h2>
                            <div class="game-modes">
                                <label class="radio-card">
                                    <input type="radio" name="gameMode" value="normal" checked>
                                    <div class="radio-content">
                                        <i class="fas fa-play"></i>
                                        <h3>Нормальный</h3>
                                        <p>Видны эффекты решений</p>
                                    </div>
                                </label>
                                
                                <label class="radio-card">
                                    <input type="radio" name="gameMode" value="hard">
                                    <div class="radio-content">
                                        <i class="fas fa-fire"></i>
                                        <h3>Сложный</h3>
                                        <p>Увеличенные последствия</p>
                                    </div>
                                </label>
                                
                                <label class="radio-card">
                                    <input type="radio" name="gameMode" value="blind">
                                    <div class="radio-content">
                                        <i class="fas fa-eye-slash"></i>
                                        <h3>Слепой</h3>
                                        <p>Скрыты эффекты решений</p>
                                    </div>
                                </label>
                            </div>
                        </div>

                        <button id="startBtn" class="btn btn--primary btn--lg btn--full-width" disabled>
                            <i class="fas fa-play"></i> Начать игру
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Игровой экран -->
    <div id="gameScreen" class="screen">
        <div class="container">
            <!-- Прогресс игры -->
            <div class="game-progress">
                <div id="progressInfo" class="progress-info">
                    <!-- Генерируется JS -->
                </div>
                <div class="progress-bar">
                    <div id="progressFill" class="progress-fill"></div>
                </div>
            </div>

            <!-- Основной макет игры -->
            <div class="game-layout">
                <!-- Основная область -->
                <div class="main-game-area">
                    <!-- Панель индикаторов -->
                    <div class="indicators-panel">
                        <div id="gdpIndicator" class="indicator">
                            <i class="fas fa-chart-line"></i>
                            <div>
                                <span class="label">ВВП</span>
                                <span class="value">100.0</span>
                            </div>
                        </div>
                        <div id="expIndicator" class="indicator">
                            <i class="fas fa-arrow-up-right-from-square"></i>
                            <div>
                                <span class="label">Экспорт</span>
                                <span class="value">100.0</span>
                            </div>
                        </div>
                        <div id="impIndicator" class="indicator">
                            <i class="fas fa-arrow-down-right-to-square"></i>
                            <div>
                                <span class="label">Импорт</span>
                                <span class="value">100.0</span>
                            </div>
                        </div>
                        <div id="cpiIndicator" class="indicator">
                            <i class="fas fa-percentage"></i>
                            <div>
                                <span class="label">Инфляция</span>
                                <span class="value">2.0%</span>
                            </div>
                        </div>
                        <div id="unemploymentIndicator" class="indicator">
                            <i class="fas fa-users"></i>
                            <div>
                                <span class="label">Безработица</span>
                                <span class="value">5.0%</span>
                            </div>
                        </div>
                    </div>

                    <!-- Карточка сценария -->
                    <div class="scenario-card">
                        <div class="scenario-header">
                            <h2 id="scenarioHeader">Загружаем сценарий...</h2>
                        </div>
                        <div class="scenario-content">
                            <p id="scenarioText">Пожалуйста, подождите...</p>
                        </div>
                    </div>

                    <!-- Варианты выбора -->
                    <div id="choicesContainer" class="choices-container">
                        <!-- Генерируется JS -->
                    </div>
                </div>

                <!-- Боковая панель -->
                <div class="sidebar">
                    <!-- Панель эффектов -->
                    <div id="effectsPanel" class="effects-panel" style="display: none;">
                        <div class="effects-preview">
                            <h3><i class="fas fa-chart-bar"></i> Предварительные эффекты</h3>
                            <div id="effectsGrid" class="effects-grid">
                                <!-- Генерируется JS -->
                            </div>
                        </div>

                        <!-- Экономическая теория -->
                        <div class="economic-theory" style="display: none;">
                            <h3><i class="fas fa-graduation-cap"></i> Экономическая теория</h3>
                            <p id="economicTheoryText">Выберите действие для получения теоретической информации.</p>
                        </div>

                        <!-- Историческая справка -->
                        <div class="historical-context" style="display: none;">
                            <h3><i class="fas fa-book"></i> Историческая справка</h3>
                            <p id="historicalText">Выберите действие для получения исторической информации.</p>
                        </div>

                        <button id="nextTurnBtn" class="btn btn--primary btn--full-width" disabled>
                            <i class="fas fa-arrow-right"></i> Следующий ход
                        </button>
                    </div>

                    <!-- Панель графиков -->
                    <div class="charts-panel">
                        <div class="chart-container">
                            <h3>Динамика показателей</h3>
                            <canvas id="gameChart" width="400" height="300"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Экран результатов -->
    <div id="resultsScreen" class="screen">
        <div class="container">
            <!-- Заголовок результатов -->
            <div class="results-header">
                <h1><i class="fas fa-trophy"></i> Результаты игры</h1>
                <div id="selectedCountryDisplay" class="selected-country-display">
                    <!-- Генерируется JS -->
                </div>
            </div>

            <!-- Основной макет результатов -->
            <div class="results-layout">
                <!-- Левая колонка -->
                <div class="results-main">
                    <!-- Финальный счет -->
                    <div class="final-score">
                        <h2><i class="fas fa-star"></i> Итоговая оценка</h2>
                        <div id="finalScoreCard" class="score-card">
                            <div class="score-value">0/100</div>
                            <div class="score-description">Загружаем оценку...</div>
                            <div class="score-breakdown">Подождите...</div>
                        </div>
                    </div>

                    <!-- Анализ доверия -->
                    <div class="trust-analysis">
                        <h2><i class="fas fa-handshake"></i> Доверие международного сообщества</h2>
                        <div class="trust-card">
                            <div class="trust-score">
                                <i class="fas fa-globe"></i>
                                <div>
                                    <span class="trust-label">Уровень доверия</span>
                                    <span id="trustValue" class="trust-value">50</span>
                                </div>
                            </div>
                            <p id="trustExplanation" class="trust-explanation">Анализ доверия...</p>
                        </div>
                    </div>

                    <!-- Подробный анализ -->
                    <div class="detailed-analysis">
                        <div id="analysisTitle">
                            <h3><i class="fas fa-microscope"></i> Анализ вашей экономической стратегии</h3>
                        </div>
                        <div id="analysisContent" class="analysis-sections">
                            <!-- Генерируется JS -->
                        </div>
                    </div>

                    <!-- Лог ходов -->
                    <div class="game-log">
                        <h2><i class="fas fa-history"></i> Лог игровых ходов</h2>
                        <div id="gameLogContent" class="log-content">
                            <!-- Генерируется JS -->
                        </div>
                    </div>

                    <!-- Экспорт PDF -->
                    <div class="pdf-export-section">
                        <h2><i class="fas fa-file-pdf"></i> Экспорт результатов</h2>
                        <div class="pdf-export-form">
                            <div class="form-group">
                                <label for="studentName" class="form-label">ФИО студента</label>
                                <input type="text" id="studentName" class="form-control" placeholder="Введите ваше ФИО">
                            </div>
                            <div class="form-group">
                                <label for="studentGroup" class="form-label">Группа</label>
                                <input type="text" id="studentGroup" class="form-control" placeholder="Введите вашу группу">
                            </div>
                            <button id="exportPdfBtn" class="btn btn--primary">
                                <i class="fas fa-download"></i> Скачать PDF отчет
                            </button>
                        </div>
                    </div>

                    <!-- Действия -->
                    <div class="results-actions">
                        <button id="newGameBtn" class="btn btn--secondary btn--lg">
                            <i class="fas fa-refresh"></i> Новая игра
                        </button>
                    </div>
                </div>

                <!-- Правая колонка -->
                <div class="results-sidebar">
                    <!-- Финальный график -->
                    <div class="final-chart-panel">
                        <h2><i class="fas fa-chart-area"></i> Динамика показателей</h2>
                        <canvas id="finalChart" width="400" height="300"></canvas>
                    </div>

                    <!-- Финальные показатели -->
                    <div class="final-indicators">
                        <h2><i class="fas fa-calculator"></i> Финальные показатели</h2>
                        <div id="finalIndicatorsGrid" class="indicators-grid">
                            <!-- Генерируется JS -->
                        </div>
                    </div>
                </div>
            </div>

            <div class="version-info-results">
                <span class="game-version">v2.1.0</span>
            </div>
        </div>
    </div>

    <script src="enhanced-app.js"></script>
</body>
</html>